<div style="margin-top: -12px;">
    <div class="add-sales ">
        <div class="addSales">
            <!-- <img  class="print-img" src="../../../assets/material/print-img.svg" alt=""> -->
            <mat-icon mat-button class="close-icon" [mat-dialog-close]="true">close</mat-icon>
        </div>
        <div class="sales-head">
            <h3 class="sales-add ">Add Sales</h3>
        </div>
        <!-- expension   -->
        <div class="slaes-expension">
            <div (click)="expandDealerInfoDiv()" class="collapsible">
                <div class="row">
                    <div class="col-md-3">
                        <p class="label-cls">Dealer Information</p>
                    </div>
                    <div class="col-md-8 check1">
                        <p *ngIf="showdealerName" class="label-cls"><b>Dealer Name:</b> {{selectedCoustmerName}} ;
                            <b>Dealer Code:</b> {{customerCode}}
                        </p>
                    </div>
                    <div class="col-md-1" (click)="expandOrderItemsDiv()">
                        <img [src]="image1" class="expand-arrow" alt="add-user-btn">
                    </div>
                </div>
            </div>
            <div class="content" *ngIf="dealerInfo">
                <div class="row  ">
                    <div class="col-md-6 custom ">
                        <div class="promotiont addSalesdropdown">
                            <label class="addDealerlabels">Dealer <span class="Astr">*</span></label>
                        </div>
                        <ng-select [items]="addSalesdropdown" class="addDealerSelection  custom" bindValue="customerId"
                            bindLabel="customerName" placeholder="Select the dealer" [disabled]="dealerDisabled"
                            [(ngModel)]="customerId" required (change)="onTypeSelect($event)" appendTo="body">
                        </ng-select>
                        <!-- <img src="assets/img/search.png" class="search-img"  alt="search"> -->
                    </div>
                    <div class="col-md-6">
                        <div class="promotiont">
                            <label class="addDealerlabels">Geography <span class="Astr">*</span></label>
                            <!-- <ng-multiselect-dropdown name="type" [placeholder]="'Select the promotion type'"
                        formControlName="type" [disabled]="disabled" [settings]="dropdownSettings3"
                        [data]="toppingList3" (onSelect)="onTypeSelect($event)"
                        (onSelectAll)="onTypeAll($event)">
                    </ng-multiselect-dropdown> -->
                            <ng-select [items]="GeoGrapydropdownListdata" [(ngModel)]="geographyId" class="geographyclass" bindValue="geographyId"
                                bindLabel="geographyName" placeholder="Select the geography" #geographySelect (change)="onGeoSelect($event)"
                                appendTo="body" required>
                            </ng-select>
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <label class="addDealerlabels">Billing Address <span class="Astr">*</span></label>
                        <p class="billingAddress">{{dealerAdressToDisplay}}</p>
                    </div>
                </div>
                <!-- <div class="row" style="margin-top:-19px">
                <div class="col-md-6">
                    <div class="promotiont">
                        <label>Billing Address <span>*</span></label>
                    </div>
                    <input matInput placeholder="Billing address" #input class="form-control container input-box" >
                </div>
                <div class="col-md-6">
                    <div class="promotiont">
                        <label>Shipping Address <span>*</span></label>
                        <input matInput placeholder="Select shipping address" #input class="form-control container input-box" >
                    </div>
                </div>   
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="promotiont">
                        <label>Dealer Reference No <span>*</span></label>
                    </div>
                    <input matInput placeholder="Enter dealer reference number" #input class="form-control container input-box" >
                </div>
                <div class="col-md-6">
                    <div class="promotiont">
                        <label>Company Reference No <span>*</span></label>
                        <input matInput placeholder="Enter Company reference number" #input class="form-control container input-box" >
                    </div>
                </div>   
            </div> -->
            </div>

            <div (click)="expandDealerInfoDiv1()" class="collapsible mt-3">
                <div class="row">
                    <div class="col-md-3">
                        <p class="label-cls">Product Information</p>
                    </div>
                    <div class="col-md-8 check1">
                        <p class="label-cls" *ngIf="visibleProcuct"><b>Product Name:</b> {{productselectedName}} ;
                            <b>Product Code:</b> {{productSKUName}}
                        </p>
                    </div>
                    <div class="col-md-1">
                        <img [src]="image1" class="expand-arrow" alt="add-user-btn">
                    </div>
                </div>
            </div>
            <div class="content" *ngIf="productInfo">
                <div class="row">
                    <div class="col-lg-5">
                        <div class="promotiont ">
                            <label class="addDealerlabels">Product<span class="Astr">*</span></label>
                        </div>
                        <ng-select [items]="productDetails" class="addDealerProduct" bindValue="stockItemId"
                            bindLabel="stockItemName" placeholder="Select the product" #geoghraphy
                            (change)="onProductTypeSelect($event)" required>
                        </ng-select>
                        <!-- <img src="assets/img/search.png" class="search-img"  alt="search"> -->

                    </div>
                    <div class="col-lg-7 link">
                        <a href="">{{productLink}}</a>
                    </div>

                </div>
                <div class="row">
                    <div class="col-lg-3">
                        <label class="addDealerlabels">SKU</label>
                        <p>{{productSKUName}}</p>
                    </div>
                    <div class="col-lg-3">
                        <label class="addDealerlabels">Brand Name</label>
                        <p>{{brandname}}</p>
                    </div>
                    <div class="col-lg-3">
                        <label class="addDealerlabels">Product Group</label>
                        <p>{{productGroupName}}</p>
                    </div>
                    <div class="col-lg-3">
                        <label class="addDealerlabels">Product Sub-Group</label>
                        <p>{{productsubgroupName}}</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <label class="addDealerlabels">Product Custom Identifiers </label>
                        <p class="billingAddress">{{productCustomIdentifier}}</p>
                    </div>
                </div>

            </div>
            <!-- 
        <div (click)="expandDealerInfoDiv3()" class="collapsible mt-3">
            <div class="row">
                <div class="col-md-3">
                    <p class="label-cls">Receipts</p>
                </div>
                <div class="col-md-8 check1">
                    <p class="label-cls"><b>Stock:</b> 1000 boxes  ;  <b>Totol Receipts:</b> 11,540 boxes</p>
                </div>
                <div class="col-md-1">
                    <img [src]="image1" class="expand-arrow" alt="add-user-btn">
                </div>
             </div>
        </div> -->


            <div (click)="expandDealerInfoDiv4()" class="collapsible mt-3">
                <div class="row">
                    <div class="col-md-3">
                        <p class="label-cls">Sales</p>
                    </div>
                    <div class="col-md-8 check1">
                        <!-- <p class="label-cls"><b>Stock:</b> 1000 boxes  ;  <b>Sales:</b> boxes</p> -->
                    </div>
                    <div class="col-md-1">
                        <img [src]="image1" class="expand-arrow" alt="add-user-btn">
                    </div>
                </div>
            </div>
            <div *ngIf="sales">
                <div class="content">

                    <div class="row">

                        <div class="col-3">
                        </div>
                        <div class="col-2">
                        </div>
                        <div class="col-3">
                        </div>
                        <div class="col-3">
                        </div>
                        <div class="col-1">
                                <mat-icon class="addAlign" (click)="addsalesobj()">add_circle</mat-icon>
                        </div>
                    </div>
                    <div *ngFor="let data of SalesObj; let i= index">
                        <div class="row mt-2">
                            <div class="col-md-3">
                                <p>Date</p>
                            </div>
                            <div class="col-md-2">
                                <p>Quantity</p>
                            </div>
                            <div class="col-md-3">
                               <p> Sales Price</p>
                            </div>
                            <div class="col-md-2">
                                <p>Customer Reference</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="sales-popup-datepicker">
                                    <mat-form-field class="placeh-align dateheight">
                                        <mat-label class="selectdate">Select the date</mat-label>
                                        <input matInput placeholder="" [matDatepicker]="picker2"
                                            [(ngModel)]="data.selectedSalesDateRaw"
                                            (dateChange)="salesDateChange($event, data)">
                                        <mat-datepicker-toggle matSuffix [for]="picker2">
                                            <mat-icon matDatepickerToggleIcon>
                                                <div class="calendarToggle">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16"
                                                        height="16" fill="green" class="bi bi-calendar4"
                                                        viewBox="0 0 16 16">
                                                        <path
                                                            d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v1h14V3a1 1 0 0 0-1-1H2zm13 3H1v9a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V5z" />
                                                    </svg>
                                                </div>
                                              
                                            </mat-icon>
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #picker2></mat-datepicker>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-2 custmRef">
                                <input type="text" placeholder="Enter" [(ngModel)]="data.Quantity" (input)="restrictToAlphabets($event)">
                            </div>
                            <div class="col-md-3 custmRef">
                                <input type="text" placeholder="Enter Price" [(ngModel)]="data.SalesPrice" (input)="restrictToAlphabets($event)" />
                            </div>
                            <div class="col-md-3 custmRef">
                                <input type="text" placeholder="Enter Customer Reference"
                                    [(ngModel)]="data.CustomerSpecification" />
                            </div>
                            <div class="col-1">
                                <div class="col-1">
                                    <mat-icon (click)="i>0 ? removeobj(i) : null"
                                        class="col-2 remove-mat-icon delete-icon remove-address"
                                        [ngClass]="{ 'removeCircle': i>0 ,'removeCircle1': i==0  }"
                                        *ngIf="SalesObj.length >= 0 ">remove_circle
                                    </mat-icon>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row footer">
                <div class="col-md-6">
                    <button type="button" class="saveas-draft" (click)="saveSales()">Save </button>
                </div>
                <div class="col-md-6">
                    <button type="button" [mat-dialog-close]="true" class="cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>