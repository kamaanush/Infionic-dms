<!-- <p>sales-reports works!</p> -->
<div style="min-height:50vh">
  <div class="row">
    <div class="col-md-1 col-lg-1 col-sm-1">
      <button class="btn  btn-block submitbtn save-btn" (click)="downloadReports()" [disabled]="!isDownload">Download</button>
    </div>
  </div>


  <div class="row ">
    <div class="col-lg-2">
      <div class="dealerr">
        <ng-select [items]="reportList" id="dealerAllArray" name="dealerAllArray" class="DropDownFrom"
          required [virtualScroll]="true" bindLabel="reportName" bindValue="reportCode" [searchable]="true"
          [(ngModel)]="selectedReportType"  [clearable]="false" placeholder=" Select Type of Report" (change)="onItemSelectreports($event)">
        </ng-select>
      </div>
    </div>
    <div class="col-md-2 col-lg-2 col-sm-2">
      <form [formGroup]="myForms" class="dropdown-form">

        
        <ng-multiselect-dropdown class="product" name="citys" [placeholder]="'Dealer'" formControlName="city2"
        [settings]="dropdownSettings11" [data]="dealersList"
          (onSelect)="onItemSelected($event, 'dealer')" (onDeSelect)="onItemDeSelected($event,'dealer')"
          (onDeSelectAll)="onItemDeSelectOrAllProduct($event,'dealer')" (onSelectAll)="onItemSelectOrAllProduct($event,'dealer')">
        </ng-multiselect-dropdown>

        <div class="dropdown-placeholder product-placeholder">
          <span *ngIf="myForms.get('city2').value.length == 0">Dealer </span>
          <span *ngIf="myForms.get('city2').value.length == 1" class="selected-placeholder">
            {{myForms.get('city2').value.length}} Dealer selected </span>
          <span *ngIf="myForms.get('city2').value.length > 1" class="selected-placeholder">
            {{myForms.get('city2').value.length}} Dealers selected </span>

        </div>
      </form>
    </div>
    <div class="col-md-2 col-lg-2 col-sm-2" style="font-family: 'Gilroy'; color: grey;margin-left: 9px;">
      <form [formGroup]="myForms4" class="dropdown-formdealer">
        <ng-multiselect-dropdown class="dealr" name="citys" [placeholder]="'Geography'" formControlName="city5"
          [disabled]="disabled" [settings]="dropdownSettings4" [data]="geoGraphyList"
          (onSelect)="onItemSelected($event, 'geography')" (onDeSelect)="onItemDeSelected($event,'geography')"
          (onDeSelectAll)="onItemDeSelectOrAllProduct($event,'geography')" (onSelectAll)="onItemSelectOrAllProduct($event,'geography')">
        </ng-multiselect-dropdown>
      </form>
      <div class="dropdown-placeholder dealr-placeholder">
        <span *ngIf="myForms4.get('city5').value.length == 0"> Geography </span>
        <span *ngIf="myForms4.get('city5').value.length == 1" class="selected-placeholder">
          {{myForms4.get('city5').value.length}} Geography selected </span>
        <span *ngIf="myForms4.get('city5').value.length > 1" class="selected-placeholder">
          {{myForms4.get('city5').value.length}} Geography(s) selected </span>

      </div>
    </div>
    <div class="col-md-2 col-lg-2 col-sm-2">
      <form [formGroup]="myForms2" class="dropdown-form">
        <ng-multiselect-dropdown class="geog" name="citys" [placeholder]="'Product'" formControlName="city3"
          [disabled]="disabled" [settings]="dropdownSettings23" [data]="productListData"
          (onSelect)="onItemSelected($event, 'product')" (onDeSelect)="onItemDeSelected($event,'product')"
          (onDeSelectAll)="onItemDeSelectOrAllProduct($event,'product')" (onSelectAll)="onItemSelectOrAllProduct($event,'product')">
        </ng-multiselect-dropdown>
        <div class="dropdown-placeholder geog-placeholder">
          <span *ngIf="myForms2.get('city3').value.length == 0">Product </span>
          <span *ngIf="myForms2.get('city3').value.length == 1" class="selected-placeholder">
            {{myForms2.get('city3').value.length}} Product selected </span>
          <span *ngIf="myForms2.get('city3').value.length > 1" class="selected-placeholder">
            {{myForms2.get('city3').value.length}} Product selected </span>

        </div>
      </form>
    </div>
  
    <div class="col-md-2 col-lg-2 col-sm-2" style="margin-left:-9px">
      <form [formGroup]="myForms3" class="dropdown-form">
        <ng-multiselect-dropdown class="stts" name="citys" [placeholder]="'Status'" formControlName="city4"
          [disabled]="disabled" [settings]="dropdownSettings3" [data]="statusList" 
          (onSelect)="onItemSelected($event, 'status')" (onDeSelect)="onItemDeSelected($event,'status')"
          (onDeSelectAll)="onItemDeSelectOrAllProduct($event,'status')" (onSelectAll)="onItemSelectOrAllProduct($event,'status')">
        </ng-multiselect-dropdown>
        <div class="dropdown-placeholder stts-placeholder">
          <span *ngIf="myForms3.get('city4').value.length == 0"> Status Selected</span>
          <span *ngIf="myForms3.get('city4').value.length == 1" class="selected-placeholder">
            {{myForms3.get('city4').value.length}} Status selected </span>
          <span *ngIf="myForms3.get('city4').value.length > 1" class="selected-placeholder">
            {{myForms3.get('city4').value.length}} Status selected </span>

        </div>
      </form>

      <!-- <ng-select [items]="statusList" id="dealerAllArray" name="dealerAllArray" class="dropdown-form"
          required [virtualScroll]="true" bindLabel="statusName" bindValue="statusId" [searchable]="true"
          [(ngModel)]="statusListType"  [clearable]="false" placeholder=" Select Type of Report" (change)="onItemSelectStatus($event)">
        </ng-select> -->

    </div>
    <!-- calender -->
    <div class="col-md-2 col-lg-2 col-sm-2 d-flex">
      <app-customdatepicker [selectedDate]="selectedDateRange"
        (customDatePickerEvent)="customDatePickerEvent($event)"></app-customdatepicker>
      <!-- <div class="cal" (click)="datep()">
             <img src="assets/img/calenderImage.svg" alt="">
            </div> -->
      <!-- <section data-cy="regular-date-range" class="col-12 col-sm-                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     col-lg-4">
              <date-range-picker [(dateRange)]="dateRange1"
              [maxDate]="maxDate">
              </date-range-picker>
              <hr />
            </section> -->

      <div class="advance-filter" (click)="onClickAdvancedFilter()"><img class="" src="assets/img/advance-filter-icon.png"
           alt="refresh"></div>

      <div class="ref"><img class="refresh" src="assets/img/Refreshbutton.svg" (click)="refresh()" alt="refresh"></div>
      <!-- <div class="col-1"> -->
      <!-- <div class="icon btnhover refreshbtn" >
        <img class="refresh" src="assets/img/Vector.png"  alt="refresh" >
      </div> -->
    </div>
  </div>

  <!-- </div> -->

  <!-- <button (click)="datep()">date</button>
    <date-range-picker [(dateRange)]="dateRange1" class="ngb-dp-header">
              </date-range-picker> -->

  <!-- search -->



  <!-- <div class="col-md-4 mt-3 mb-4" style="margin-left: 68%;margin-bottom:10px">
    <div class="row">
      <div class="col-md-8">
        <div class="searchBox d-flex">
          <input class="searchInput" style="font-family: 'Gilroy'" type="text" name=""
            (keyup)="onSearchChange($event)" placeholder="Type & search for anything">
          <button class="searchButton" href="#">
            <i class="material-icons">
              search
            </i>
          </button>
          <button class="search-btn" style="font-family: 'Gilroy'">Search</button>
        </div>
      </div>
      <div class="">
        <div class="add-user" (click)="addPromotions()" userRoleDirective="ADD_PROMOTION"
          [pageName]="currentPageName">
          <img src="assets/img/add-btn.png" style="position: relative;top: 8px;left: 10px;" alt="add-user-btn">
        </div>
      </div>
  
    </div>
  </div> -->
  <br>
  <div class="row">
    <div class="col-md-1 col-lg-1 col-sm-1">
      <button class="btn btn-block submitbtn view-btn" [disabled]="!selectedReportType" (click)="getReportDetails()" >View Report</button>
    </div>
  </div>
  <!-- <br> -->
  <!-- <div style=""></div>  -->
  <div *ngIf="showGridData">
    <ag-grid-angular id="gridContainer"
    style=" margin-bottom: 100px;height: 406px;background-color: white;font-family: Gilroy;margin-left: 20px; margin-top: 12px;"
    class="ag-theme-material" (gridReady)="onGridReady($event)" [rowHeight]="25" [headerHeight]="48"
    [columnDefs]="columnDefs" [defaultColDef]="defaultColDef" [columnTypes]="columnTypes" [rowData]="reportResData"
    [suppressExcelExport]="true" [popupParent]="popupParent" (cellValueChanged)="onCellValueChanged($event)"
    (firstDataRendered)="onFirstDataRendered($event)" (firstDataRendered)="onFirstDataRendered($event)"
    (rowClicked)="openDialog()" (cellClicked)="onCellClicked($event)" [paginationPageSize]="paginationPageSize"
    (bodyScroll)="handleScroll($event)"></ag-grid-angular>

  </div>
  <!-- <div class="pagination">
  <span class="pagination-cls">1</span> to <span class="pagination-cls">{{paginationScrollCount}}</span> of <span
    class="pagination-cls">{{rowData5.length}}</span>
  </div> -->
</div>