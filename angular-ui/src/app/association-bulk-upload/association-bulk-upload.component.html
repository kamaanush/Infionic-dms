 <div  class="container sales-container" >
     <div class="addUser-BulkUpload">
        <mat-icon mat-button class="close-icon" [mat-dialog-close]="true">close</mat-icon>
    </div> 
    <span class="ship receiptA">Association:</span>
    <h1 class="ship receiptBulk">Bulk Upload</h1>   
     <div class="receipts">       
        <div class="row">
            <h4 class="bulk-txt">Bulk upload of Association</h4>
        </div>
        <div class="row">
            <span class="step1-txt">Step 1:</span>
            <h4 class="up-doc"> Upload document</h4>
        </div>
        <label class=" row upload-div">
            <input  type="file"  (change)="onFileChange($event)" style="display:none">
           
            <img src="../../../assets/img/upload-icon.png"  class="upload-icon" alt="Upload icon">
            <div class="row" *ngIf="uploadedTextShow">
                <div  *ngFor="let file of files; let i=index">
                   <h6 class="uploadedText"> Document is <b>{{file.name}} </b><br></h6>
                   <h6 class="uploadedTexttt"> is successfully Uploaded!</h6>
                   </div>
            </div>
            <div class="row" *ngIf="!uploadedTextShow"> 
                <h6 class="upload-doc txt-1">Upload the document</h6>
            </div>
            <div class="row" *ngIf="!uploadedTextShow">
                <h6 class="upload-doc txt-2">after adding all required information related to association</h6>
            </div>
       
        </label>
       
               <div class="step-2-filled" *ngIf="!showTable">
                <div class="row step2">
                    <span class="step1-txt">Step 2:</span>
                    <h4 class="up-doc" >Analyzing Uploaded document</h4>
                   
                </div>
                <div class="row  mt-4" >
                    <input type="text"  placeholder="No document uploaded  yet" class="selectedProductReceipts" disabled>
                </div>
                </div>
                 <div class="step-2-filled" *ngIf="showTable">
                    <div class="row step2">
                        <span class="step1-txt">Step 2:</span>
                        <h4 class="up-doc">Analyzing Uploaded document</h4>
                    </div>

              
            <div (click)="expandTotalRows()">
                <div class="row expandtotalrow ">
                    <input type="text" [(ngModel)]="totalRows"  class=" total-rows  expandtotalfull col-md-11" disabled>
                    <div class="col-md-1 imagestyle">
                        <img [src]="image4" class="expand-arrow" alt="add-user-btn">
                    </div>
                </div>
             
                     <div  *ngIf="!rowsTotal && TotalRows.length>0 " class="row  totaltablewidth"> 
                    
                    <table matSort   class="class_table_shipment">
                        <tr class="table-header-row">
                            <!-- <th style="padding-left:20px;">Row No</th> -->
                            <th>Product GeographyId</th>
                            <th>Product Name</th>
                            <th>Product Code</th>
                            <th>Geograph Name</th>
                            <th>Dealer Name</th>
                            <th>MRP</th>
                            <th>MinOrder</th>
                            <th>MaxOrder</th>
                            <th>Margin</th>
                            <th>Discount</th>
                            <th>LeadTimeIndays</th>
                        </tr>
                        <tr *ngFor="let dupicateData of TotalRows">
                              <!-- <td title="" >{{dupicateData.batchid}}</td>  -->
                            <td class="productid">{{dupicateData.productSKUGeographyId}}</td>
                            <td class="productname">{{dupicateData.productName}}
                           <td title="">{{dupicateData.productCode}}</td>
                           <td title="">{{dupicateData.geographyName}}</td>
                           <td>{{dupicateData.dealerName}}</td>
                            <td class="numberright">{{dupicateData.mrp}}</td>
                            <td class="numberright" >{{dupicateData.minOrderQty}}</td>
                            <td class="numberright" >{{dupicateData.maxOrderQty}}</td>
                            <td class="numberright">{{dupicateData.margin}}</td>
                            <td class="numberright">{{dupicateData.discount}}</td>
                            <td class="numberright"></td>{{dupicateData.leadTimeDays}}
                            

                          </tr>
                    </table>
                </div>
            </div>
           
            <form [formGroup]="Errorfreeforms"> 
                <form #myForm="ngForm">
                <div class="row " (click)="expandErrorFree()">
                 <input type="text"  [(ngModel)]="errorFree" name="errorFree" class="total-rows expanderrorfree col-md-11" disabled required>
                    <div class="col-md-1 imageerror-style">
                        <img [src]="image2" class="expand-arrow" alt="add-user-btn">
                    </div>
                       
                    <div *ngIf=" ErrorFree && errorfreeRows.length>0" class="row errorfreerows" formArrayName="age" >
                        <table matSort  class="class_table_shipment">
                            <tr class="table-header-row">
                                <!-- <th style="padding-left:20px;">Row No</th> -->
                                
                                <th>Product GeographyId</th>
                                <th>Product Name</th>
                                <th>Product Code</th>
                                <th>Geograph Name</th>
                                <th>Dealer Name</th>
                                <th>MRP</th>
                                <th>MinOrder</th>
                                <th>MaxOrder</th>
                                <th>Margin</th>
                                <th>Discount</th>
                                <th>LeadTimeIndays</th>
                            </tr>
                            <tr *ngFor="let dupicateData of errorfreeRows" >
                              
                                <td class="productid">{{dupicateData.productSKUGeographyId}}</td>
                                <td class="productname" >{{dupicateData.productName}}
                                <td title="">{{dupicateData.productCode}}</td>
                                <td title="">{{dupicateData.geographyName}}</td>
                                <td>{{dupicateData.dealerName}}</td>
                                <td class="numberright">{{dupicateData.mrp}}</td>
                                 <td class="numberright">{{dupicateData.minOrderQty}}</td>
                                 <td class="numberright">{{dupicateData.maxOrderQty}}</td>
                                 <td class="numberright">{{dupicateData.margin}}</td>
                                 <td class="numberright">{{dupicateData.discount}}</td>
                                 <td class="numberright"></td>{{dupicateData.leadTimeDays}}
                                  </tr>
                        </table>
                    </div>
                
                </div>
            </form>
        </form>
               <div (click)="expandDuplicateEntry()">
                <div class="row ">
                    <input type="text" [(ngModel)]="duplicateEntry" class="total-rows duplicate-txt col-md-11" disabled>
                    <div class="col-md-1 expand-style">
                        <img [src]="image3" class="expand-arrow" alt="add-user-btn">
                    </div>
                </div>
                <div  *ngIf = "!duplicate && duplicateEntryy.length>0" class="row duplicate-tabel-shipments">
                    <table matSort  class="class_table_shipment">
                        <tr class="table-header-row">
                            <!-- <th style="padding-left:20px;">Row No</th> -->
                            <th>ProductGeographyId</th>
                            <th>Product Name</th>
                            <th>Product Code</th>
                            <th>Geograph Name</th>
                            <th>Dealer Name</th>
                            <th>MRP</th>
                            <th>MinOrder</th>
                            <th>MaxOrder</th>
                            <th>Margin</th>
                            <th>Discount</th>
                            <th>LeadTimeIndays</th>
                        </tr>
                        <tr *ngFor="let dupicateData of duplicateEntryy">
                            
                            <td class="productid">{{dupicateData.productSKUGeographyId}}</td>
                            <td class="productname" >{{dupicateData.productName}}
                            <td title="">{{dupicateData.productCode}}</td>
                            <td title="">{{dupicateData.geographyName}}</td>
                            <td>{{dupicateData.dealerName}}</td>
                           <td class="numberright">{{dupicateData.mrp}}</td>
                             <td class="numberright">{{dupicateData.minOrderQty}}</td>
                             <td class="numberright">{{dupicateData.maxOrderQty}}</td>
                             <td class="numberright">{{dupicateData.margin}}</td>
                             <td class="numberright">{{dupicateData.discount}}</td>
                             <td class="productid"></td>{{dupicateData.leadTimeDays}}
                              </tr>
                    </table>
                </div>
                </div>
            

            <div (click)="IncorrectDataValue()" style="margin-top:20px;">
                <div class="row">
                    <input type="text" [(ngModel)]="Incorrect" class="total-rows duplicate-txt col-md-11" disabled>
                    <div class="col-md-1 expand-style">
                        <img [src]="image4" class="expand-arrow" alt="add-user-btn">
                    </div>
                </div>
                <div  *ngIf = "!incorrectData && incorrectRows.length>0" class="row incorrectdatatable">
                    <table matSort  class="class_table_shipment">
                        <tr class="table-header-row">
                            <!-- <th style="padding-left:20px;">Row No</th> -->
                            <th>ProductGeographyId</th>
                            <th>Product Name</th>
                            <th>Product Code</th>
                            <th>Geograph Name</th>
                            <th>Dealer Name</th>
                            <th>MRP</th>
                            <th>MinOrder</th>
                            <th>MaxOrder</th>
                            <th>Margin</th>
                            <th>Discount</th>
                            <th>LeadTimeIndays</th>
                        </tr>
                        
                        <tr *ngFor="let dupicateData of incorrectRows">
                              
                           <td class="productid" [ngClass]="{'errorText': dupicateData.incorrectColumn == 'productskugeographyid'}">{{dupicateData.productSKUGeographyId}}</td>
                            <td class="productname" [ngClass]="{'errorText': dupicateData.incorrectColumn  == 'productname'}">{{dupicateData.productName}}</td>
                           <td  [ngClass]="{'errorText': dupicateData.incorrectColumn == 'productcode'}">{{dupicateData.productCode}}</td>
                           <td  [ngClass]="{'errorText': dupicateData.incorrectColumn == 'geography'}">{{dupicateData.geographyName}}</td>
                            <td  [ngClass]="{'errorText': dupicateData.incorrectColumn == 'dealername'}">{{dupicateData.dealerName}}</td>
                           <td class="numberright" [ngClass]="{'errorText': dupicateData.incorrectColumn == 'mrp'}">{{dupicateData.mrp}}</td>
                          <td class="numberright" [ngClass]="{'errorText': dupicateData.incorrectColumn == 'minOrderQty'}">{{dupicateData.minOrderQty}}</td>
                         <td class="numberright" [ngClass]="{'errorText': dupicateData.incorrectColumn  == 'maxorder'}">{{dupicateData.maxOrderQty}}
                         <td id="marginnumberright" [ngClass]="{'errorText': dupicateData.incorrectColumn == 'margin'}">{{dupicateData.margin}}
                        <td class="numberright"  [ngClass]="{'errorText': dupicateData.incorrectColumn == 'discount'}">{{dupicateData.discount}}
                        <td class="productid" [ngClass]="{'errorText': dupicateData.incorrectColumn == 'leadTimeDays'}">{{dupicateData.leadTimeDays}}
                      </tr>
                    </table>
                </div>
            
            </div>
        
      <div class="maincontainer" style="margin-top: 88px;">
    <div class="row  mt-4   justify-content-center align-items-center">
      <div class="col-sm-4 d-flex justify-content-center">
        <button class="upload w-75" (click)="UploadReceipt()"
        [disabled]="!errorfreeRows || errorfreeRows.length === 0 || null"
        
        
        >Upload</button>
      </div>
      <div class="col-sm-4 d-flex justify-content-center">
        <button class="cancelbtn w-75" (click)="closedialogbox()">Cancel</button>
      </div>
    </div>
  </div>                 
</div>   
     
</div>      
</div>


